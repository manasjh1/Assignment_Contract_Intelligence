name: Keep Render Awake

on:
  schedule:
    # Run every 12 minutes
    - cron: '*/12 * * * *'
  workflow_dispatch:

jobs:
  ping_server:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Health Endpoint
        run: |
          # 1. Removed '-I' (which caused the 405 error)
          # 2. Added '-s' (silent mode)
          # 3. Added '> /dev/null' (hide the output)
          curl -f -s https://assignment-contract-intelligence.onrender.com/healthz > /dev/null
          echo "Server pinged successfully at $(date)"
